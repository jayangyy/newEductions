<?xml version='1.0' encoding='GBK' ?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd
            http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd
            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd
            http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd">

    <context:component-scan base-package="cr.cdrb.web.edu.services"/>
    <context:component-scan base-package="cr.cdrb.web.edu.dao"/>
    <!-- DataSource -->
    <bean id="propertyConfigurer"
          class="cr.cdrb.commons.crypt.CryptPropertyPlaceholderConfigurer"
          p:location="/WEB-INF/jdbc.properties" />

    <bean id="dataSource1"
          class="org.springframework.jdbc.datasource.DriverManagerDataSource"
          p:driverClassName="${jdbc1.driverClassName}"
          p:url="${jdbc1.url}"
          p:username="${jdbc1.username}"
          p:password="${jdbc1.password}" />

    <bean id="dataSource2"
          class="org.springframework.jdbc.datasource.DriverManagerDataSource"
          p:driverClassName="${jdbc2.driverClassName}"
          p:url="${jdbc2.url}"
          p:username="${jdbc2.username}"
          p:password="${jdbc2.password}" />

    <bean id="dataSource3"
          class="org.springframework.jdbc.datasource.DriverManagerDataSource"
          p:driverClassName="${jdbc3.driverClassName}"
          p:url="${jdbc3.url}"
          p:username="${jdbc3.username}"
          p:password="${jdbc3.password}" />

    <bean id="dataSource4"
          class="org.springframework.jdbc.datasource.DriverManagerDataSource"
          p:driverClassName="${jdbc4.driverClassName}"
          p:url="${jdbc4.url}"
          p:username="${jdbc4.username}"
          p:password="${jdbc4.password}" />
       
    <bean id="db1" class="cr.cdrb.commons.db.DbUtilsPlus">
        <constructor-arg index="0">
            <ref bean="dataSource1"></ref>
        </constructor-arg>
    </bean>
       
    <bean id="db2" class="cr.cdrb.commons.db.DbUtilsPlus">
        <constructor-arg index="0">
            <ref bean="dataSource2"></ref>
        </constructor-arg>
    </bean>
       
    <bean id="db3" class="cr.cdrb.commons.db.DbUtilsPlus">
        <constructor-arg index="0">
            <ref bean="dataSource3"></ref>
        </constructor-arg>
    </bean>

    <bean id="db4" class="cr.cdrb.commons.db.DbUtilsPlus">
        <constructor-arg index="0">
            <ref bean="dataSource4"></ref>
        </constructor-arg>
    </bean>

    <bean id="configMap" class="java.util.HashMap">
        <constructor-arg>
            <map>
                <!--<entry key="fileUploadPath" value="F:/upload" />-->
                <entry key="fileUploadPath" value="C:/inetpub/wwwroot/ebook/admin/upbigload/file" />
                <entry key="zjcunitid" value="19B8C3534DE35665E0539106C00A58FD" />
                <entry key="cspid" value="9999000200140001,9999000200140002" />
                <entry key="zdpid" value="9999000200140006" />
            </map>
        </constructor-arg>
    </bean>
    <context:component-scan base-package="cr.cdrb.web.edu.infrastructure">
        <context:include-filter type="annotation" expression="org.springframework.stereotype.Controller"/>
    </context:component-scan>
    <!--  <context:component-scan base-package="cr.cdrb.web.edu.security"/>-->
</beans>
